{"ast":null,"code":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\", \"react\", \"jsonp\", \"prop-types\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require(\"react\"), require(\"jsonp\"), require(\"prop-types\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.react, global.jsonp, global.propTypes);\n    global.index = mod.exports;\n  }\n})(this, function (exports, _react, _jsonp, _propTypes) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _jsonp2 = _interopRequireDefault(_jsonp);\n\n  var _propTypes2 = _interopRequireDefault(_propTypes);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var Mailchimp = function (_React$Component) {\n    _inherits(Mailchimp, _React$Component);\n\n    function Mailchimp(props) {\n      _classCallCheck(this, Mailchimp);\n\n      var _this = _possibleConstructorReturn(this, (Mailchimp.__proto__ || Object.getPrototypeOf(Mailchimp)).call(this, props));\n\n      _this.state = {};\n      return _this;\n    }\n\n    _createClass(Mailchimp, [{\n      key: \"handleSubmit\",\n      value: function handleSubmit(evt) {\n        var _this2 = this;\n\n        evt.preventDefault();\n        var _props = this.props,\n            fields = _props.fields,\n            action = _props.action;\n        var values = fields.map(function (field) {\n          return field.name + \"=\" + encodeURIComponent(_this2.state[field.name]);\n        }).join(\"&\");\n        var path = action + \"&\" + values;\n        var url = path.replace('/post?', '/post-json?');\n        var regex = /^([\\w_\\.\\-\\+])+\\@([\\w\\-]+\\.)+([\\w]{2,10})+$/;\n        var email = this.state['EMAIL'];\n        !regex.test(email) ? this.setState({\n          status: \"empty\"\n        }) : this.sendData(url);\n      }\n    }, {\n      key: \"sendData\",\n      value: function sendData(url) {\n        var _this3 = this;\n\n        this.setState({\n          status: \"sending\"\n        });\n        (0, _jsonp2.default)(url, {\n          param: \"c\"\n        }, function (err, data) {\n          if (data.msg.includes(\"already subscribed\")) {\n            _this3.setState({\n              status: 'duplicate'\n            });\n          } else if (err) {\n            _this3.setState({\n              status: 'error'\n            });\n          } else if (data.result !== 'success') {\n            _this3.setState({\n              status: 'error'\n            });\n          } else {\n            _this3.setState({\n              status: 'success'\n            });\n          }\n\n          ;\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this4 = this;\n\n        var _props2 = this.props,\n            messages = _props2.messages,\n            fields = _props2.fields,\n            styles = _props2.styles,\n            className = _props2.className;\n        var status = this.state.status;\n        return _react2.default.createElement(\"form\", {\n          onSubmit: this.handleSubmit.bind(this),\n          className: className\n        }, fields.map(function (input) {\n          return _react2.default.createElement(\"input\", {\n            key: Math.random(),\n            onBlur: function onBlur(_ref) {\n              var target = _ref.target;\n              return _this4.setState(_defineProperty({}, input.name, target.value));\n            },\n            placeholder: input.placeholder,\n            name: input.name,\n            type: input.type,\n            defaultValue: _this4.state[input.name]\n          });\n        }), _react2.default.createElement(\"button\", {\n          disabled: status === \"sending\" || status === \"success\",\n          type: \"submit\"\n        }, messages.button), _react2.default.createElement(\"div\", {\n          className: \"msg-alert\"\n        }, status === \"sending\" && _react2.default.createElement(\"p\", {\n          style: styles.sendingMsg\n        }, messages.sending), status === \"success\" && _react2.default.createElement(\"p\", {\n          style: styles.successMsg\n        }, messages.success), status === \"duplicate\" && _react2.default.createElement(\"p\", {\n          style: styles.duplicateMsg\n        }, messages.duplicate), status === \"empty\" && _react2.default.createElement(\"p\", {\n          style: styles.errorMsg\n        }, messages.empty), status === \"error\" && _react2.default.createElement(\"p\", {\n          style: styles.errorMsg\n        }, messages.error)));\n      }\n    }]);\n\n    return Mailchimp;\n  }(_react2.default.Component);\n\n  Mailchimp.defaultProps = {\n    messages: {\n      sending: \"Sending...\",\n      success: \"Thank you for subscribing!\",\n      error: \"An unexpected internal error has occurred.\",\n      empty: \"You must write an e-mail.\",\n      duplicate: \"Too many subscribe attempts for this email address\",\n      button: 'Subscribe!'\n    },\n    styles: {\n      sendingMsg: {\n        color: '#0652DD'\n      },\n      successMsg: {\n        color: '#009432'\n      },\n      duplicateMsg: {\n        color: '#EE5A24'\n      },\n      errorMsg: {\n        color: '#ED4C67'\n      }\n    }\n  };\n  Mailchimp.propTypes = {\n    action: _propTypes2.default.string,\n    messages: _propTypes2.default.object,\n    fields: _propTypes2.default.array,\n    styles: _propTypes2.default.object,\n    className: _propTypes2.default.string\n  };\n  exports.default = Mailchimp;\n});","map":{"version":3,"sources":["/home/kyle/Dev/chrisforcongress/chris/node_modules/react-mailchimp-form/dist/index.js"],"names":["global","factory","define","amd","exports","require","mod","react","jsonp","propTypes","index","_react","_jsonp","_propTypes","Object","defineProperty","value","_react2","_interopRequireDefault","_jsonp2","_propTypes2","obj","__esModule","default","_defineProperty","key","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","protoProps","staticProps","prototype","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","Mailchimp","_React$Component","_this","getPrototypeOf","state","handleSubmit","evt","_this2","preventDefault","_props","fields","action","values","map","field","name","encodeURIComponent","join","path","url","replace","regex","email","test","setState","status","sendData","_this3","param","err","data","msg","includes","result","render","_this4","_props2","messages","styles","className","createElement","onSubmit","bind","input","Math","random","onBlur","_ref","placeholder","type","defaultValue","disabled","button","style","sendingMsg","sending","successMsg","success","duplicateMsg","duplicate","errorMsg","empty","error","Component","defaultProps","color","string","object","array"],"mappings":"AAAA,CAAC,UAAUA,MAAV,EAAkBC,OAAlB,EAA2B;AAC1B,MAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACC,GAA3C,EAAgD;AAC9CD,IAAAA,MAAM,CAAC,CAAC,SAAD,EAAY,OAAZ,EAAqB,OAArB,EAA8B,YAA9B,CAAD,EAA8CD,OAA9C,CAAN;AACD,GAFD,MAEO,IAAI,OAAOG,OAAP,KAAmB,WAAvB,EAAoC;AACzCH,IAAAA,OAAO,CAACG,OAAD,EAAUC,OAAO,CAAC,OAAD,CAAjB,EAA4BA,OAAO,CAAC,OAAD,CAAnC,EAA8CA,OAAO,CAAC,YAAD,CAArD,CAAP;AACD,GAFM,MAEA;AACL,QAAIC,GAAG,GAAG;AACRF,MAAAA,OAAO,EAAE;AADD,KAAV;AAGAH,IAAAA,OAAO,CAACK,GAAG,CAACF,OAAL,EAAcJ,MAAM,CAACO,KAArB,EAA4BP,MAAM,CAACQ,KAAnC,EAA0CR,MAAM,CAACS,SAAjD,CAAP;AACAT,IAAAA,MAAM,CAACU,KAAP,GAAeJ,GAAG,CAACF,OAAnB;AACD;AACF,CAZD,EAYG,IAZH,EAYS,UAAUA,OAAV,EAAmBO,MAAnB,EAA2BC,MAA3B,EAAmCC,UAAnC,EAA+C;AACtD;;AAEAC,EAAAA,MAAM,CAACC,cAAP,CAAsBX,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CY,IAAAA,KAAK,EAAE;AADoC,GAA7C;;AAIA,MAAIC,OAAO,GAAGC,sBAAsB,CAACP,MAAD,CAApC;;AAEA,MAAIQ,OAAO,GAAGD,sBAAsB,CAACN,MAAD,CAApC;;AAEA,MAAIQ,WAAW,GAAGF,sBAAsB,CAACL,UAAD,CAAxC;;AAEA,WAASK,sBAAT,CAAgCG,GAAhC,EAAqC;AACnC,WAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AACnCE,MAAAA,OAAO,EAAEF;AAD0B,KAArC;AAGD;;AAED,WAASG,eAAT,CAAyBH,GAAzB,EAA8BI,GAA9B,EAAmCT,KAAnC,EAA0C;AACxC,QAAIS,GAAG,IAAIJ,GAAX,EAAgB;AACdP,MAAAA,MAAM,CAACC,cAAP,CAAsBM,GAAtB,EAA2BI,GAA3B,EAAgC;AAC9BT,QAAAA,KAAK,EAAEA,KADuB;AAE9BU,QAAAA,UAAU,EAAE,IAFkB;AAG9BC,QAAAA,YAAY,EAAE,IAHgB;AAI9BC,QAAAA,QAAQ,EAAE;AAJoB,OAAhC;AAMD,KAPD,MAOO;AACLP,MAAAA,GAAG,CAACI,GAAD,CAAH,GAAWT,KAAX;AACD;;AAED,WAAOK,GAAP;AACD;;AAED,WAASQ,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAC9C,QAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AACtC,YAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AACD;AACF;;AAED,MAAIC,YAAY,GAAG,YAAY;AAC7B,aAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AACvC,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,YAAIE,UAAU,GAAGH,KAAK,CAACC,CAAD,CAAtB;AACAE,QAAAA,UAAU,CAACb,UAAX,GAAwBa,UAAU,CAACb,UAAX,IAAyB,KAAjD;AACAa,QAAAA,UAAU,CAACZ,YAAX,GAA0B,IAA1B;AACA,YAAI,WAAWY,UAAf,EAA2BA,UAAU,CAACX,QAAX,GAAsB,IAAtB;AAC3Bd,QAAAA,MAAM,CAACC,cAAP,CAAsBoB,MAAtB,EAA8BI,UAAU,CAACd,GAAzC,EAA8Cc,UAA9C;AACD;AACF;;AAED,WAAO,UAAUR,WAAV,EAAuBS,UAAvB,EAAmCC,WAAnC,EAAgD;AACrD,UAAID,UAAJ,EAAgBN,gBAAgB,CAACH,WAAW,CAACW,SAAb,EAAwBF,UAAxB,CAAhB;AAChB,UAAIC,WAAJ,EAAiBP,gBAAgB,CAACH,WAAD,EAAcU,WAAd,CAAhB;AACjB,aAAOV,WAAP;AACD,KAJD;AAKD,GAhBkB,EAAnB;;AAkBA,WAASY,0BAAT,CAAoCC,IAApC,EAA0CC,IAA1C,EAAgD;AAC9C,QAAI,CAACD,IAAL,EAAW;AACT,YAAM,IAAIE,cAAJ,CAAmB,2DAAnB,CAAN;AACD;;AAED,WAAOD,IAAI,KAAK,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAAjD,CAAJ,GAAmEA,IAAnE,GAA0ED,IAAjF;AACD;;AAED,WAASG,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AACvC,QAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAC3D,YAAM,IAAIjB,SAAJ,CAAc,6DAA6D,OAAOiB,UAAlF,CAAN;AACD;;AAEDD,IAAAA,QAAQ,CAACN,SAAT,GAAqB5B,MAAM,CAACoC,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACP,SAAvC,EAAkD;AACrES,MAAAA,WAAW,EAAE;AACXnC,QAAAA,KAAK,EAAEgC,QADI;AAEXtB,QAAAA,UAAU,EAAE,KAFD;AAGXE,QAAAA,QAAQ,EAAE,IAHC;AAIXD,QAAAA,YAAY,EAAE;AAJH;AADwD,KAAlD,CAArB;AAQA,QAAIsB,UAAJ,EAAgBnC,MAAM,CAACsC,cAAP,GAAwBtC,MAAM,CAACsC,cAAP,CAAsBJ,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,QAAQ,CAACK,SAAT,GAAqBJ,UAA3F;AACjB;;AAED,MAAIK,SAAS,GAAG,UAAUC,gBAAV,EAA4B;AAC1CR,IAAAA,SAAS,CAACO,SAAD,EAAYC,gBAAZ,CAAT;;AAEA,aAASD,SAAT,CAAmBlB,KAAnB,EAA0B;AACxBP,MAAAA,eAAe,CAAC,IAAD,EAAOyB,SAAP,CAAf;;AAEA,UAAIE,KAAK,GAAGb,0BAA0B,CAAC,IAAD,EAAO,CAACW,SAAS,CAACD,SAAV,IAAuBvC,MAAM,CAAC2C,cAAP,CAAsBH,SAAtB,CAAxB,EAA0DT,IAA1D,CAA+D,IAA/D,EAAqET,KAArE,CAAP,CAAtC;;AAEAoB,MAAAA,KAAK,CAACE,KAAN,GAAc,EAAd;AACA,aAAOF,KAAP;AACD;;AAEDvB,IAAAA,YAAY,CAACqB,SAAD,EAAY,CAAC;AACvB7B,MAAAA,GAAG,EAAE,cADkB;AAEvBT,MAAAA,KAAK,EAAE,SAAS2C,YAAT,CAAsBC,GAAtB,EAA2B;AAChC,YAAIC,MAAM,GAAG,IAAb;;AAEAD,QAAAA,GAAG,CAACE,cAAJ;AACA,YAAIC,MAAM,GAAG,KAAK3B,KAAlB;AAAA,YACI4B,MAAM,GAAGD,MAAM,CAACC,MADpB;AAAA,YAEIC,MAAM,GAAGF,MAAM,CAACE,MAFpB;AAIA,YAAIC,MAAM,GAAGF,MAAM,CAACG,GAAP,CAAW,UAAUC,KAAV,EAAiB;AACvC,iBAAOA,KAAK,CAACC,IAAN,GAAa,GAAb,GAAmBC,kBAAkB,CAACT,MAAM,CAACH,KAAP,CAAaU,KAAK,CAACC,IAAnB,CAAD,CAA5C;AACD,SAFY,EAEVE,IAFU,CAEL,GAFK,CAAb;AAGA,YAAIC,IAAI,GAAGP,MAAM,GAAG,GAAT,GAAeC,MAA1B;AACA,YAAIO,GAAG,GAAGD,IAAI,CAACE,OAAL,CAAa,QAAb,EAAuB,aAAvB,CAAV;AACA,YAAIC,KAAK,GAAG,6CAAZ;AACA,YAAIC,KAAK,GAAG,KAAKlB,KAAL,CAAW,OAAX,CAAZ;AACA,SAACiB,KAAK,CAACE,IAAN,CAAWD,KAAX,CAAD,GAAqB,KAAKE,QAAL,CAAc;AAAEC,UAAAA,MAAM,EAAE;AAAV,SAAd,CAArB,GAA0D,KAAKC,QAAL,CAAcP,GAAd,CAA1D;AACD;AAlBsB,KAAD,EAmBrB;AACDhD,MAAAA,GAAG,EAAE,UADJ;AAEDT,MAAAA,KAAK,EAAE,SAASgE,QAAT,CAAkBP,GAAlB,EAAuB;AAC5B,YAAIQ,MAAM,GAAG,IAAb;;AAEA,aAAKH,QAAL,CAAc;AAAEC,UAAAA,MAAM,EAAE;AAAV,SAAd;AACA,SAAC,GAAG5D,OAAO,CAACI,OAAZ,EAAqBkD,GAArB,EAA0B;AAAES,UAAAA,KAAK,EAAE;AAAT,SAA1B,EAA0C,UAAUC,GAAV,EAAeC,IAAf,EAAqB;AAC7D,cAAIA,IAAI,CAACC,GAAL,CAASC,QAAT,CAAkB,oBAAlB,CAAJ,EAA6C;AAC3CL,YAAAA,MAAM,CAACH,QAAP,CAAgB;AAAEC,cAAAA,MAAM,EAAE;AAAV,aAAhB;AACD,WAFD,MAEO,IAAII,GAAJ,EAAS;AACdF,YAAAA,MAAM,CAACH,QAAP,CAAgB;AAAEC,cAAAA,MAAM,EAAE;AAAV,aAAhB;AACD,WAFM,MAEA,IAAIK,IAAI,CAACG,MAAL,KAAgB,SAApB,EAA+B;AACpCN,YAAAA,MAAM,CAACH,QAAP,CAAgB;AAAEC,cAAAA,MAAM,EAAE;AAAV,aAAhB;AACD,WAFM,MAEA;AACLE,YAAAA,MAAM,CAACH,QAAP,CAAgB;AAAEC,cAAAA,MAAM,EAAE;AAAV,aAAhB;AACD;;AAAA;AACF,SAVD;AAWD;AAjBA,KAnBqB,EAqCrB;AACDtD,MAAAA,GAAG,EAAE,QADJ;AAEDT,MAAAA,KAAK,EAAE,SAASwE,MAAT,GAAkB;AACvB,YAAIC,MAAM,GAAG,IAAb;;AAEA,YAAIC,OAAO,GAAG,KAAKtD,KAAnB;AAAA,YACIuD,QAAQ,GAAGD,OAAO,CAACC,QADvB;AAAA,YAEI3B,MAAM,GAAG0B,OAAO,CAAC1B,MAFrB;AAAA,YAGI4B,MAAM,GAAGF,OAAO,CAACE,MAHrB;AAAA,YAIIC,SAAS,GAAGH,OAAO,CAACG,SAJxB;AAKA,YAAId,MAAM,GAAG,KAAKrB,KAAL,CAAWqB,MAAxB;AAEA,eAAO9D,OAAO,CAACM,OAAR,CAAgBuE,aAAhB,CACL,MADK,EAEL;AAAEC,UAAAA,QAAQ,EAAE,KAAKpC,YAAL,CAAkBqC,IAAlB,CAAuB,IAAvB,CAAZ;AAA0CH,UAAAA,SAAS,EAAEA;AAArD,SAFK,EAGL7B,MAAM,CAACG,GAAP,CAAW,UAAU8B,KAAV,EAAiB;AAC1B,iBAAOhF,OAAO,CAACM,OAAR,CAAgBuE,aAAhB,CAA8B,OAA9B,EAAuC;AAAErE,YAAAA,GAAG,EAAEyE,IAAI,CAACC,MAAL,EAAP;AAC5CC,YAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBC,IAAhB,EAAsB;AAC5B,kBAAIlE,MAAM,GAAGkE,IAAI,CAAClE,MAAlB;AACA,qBAAOsD,MAAM,CAACX,QAAP,CAAgBtD,eAAe,CAAC,EAAD,EAAKyE,KAAK,CAAC5B,IAAX,EAAiBlC,MAAM,CAACnB,KAAxB,CAA/B,CAAP;AACD,aAJ2C;AAK5CsF,YAAAA,WAAW,EAAEL,KAAK,CAACK,WALyB;AAM5CjC,YAAAA,IAAI,EAAE4B,KAAK,CAAC5B,IANgC;AAO5CkC,YAAAA,IAAI,EAAEN,KAAK,CAACM,IAPgC;AAQ5CC,YAAAA,YAAY,EAAEf,MAAM,CAAC/B,KAAP,CAAauC,KAAK,CAAC5B,IAAnB;AAR8B,WAAvC,CAAP;AASD,SAVD,CAHK,EAcLpD,OAAO,CAACM,OAAR,CAAgBuE,aAAhB,CACE,QADF,EAEE;AACEW,UAAAA,QAAQ,EAAE1B,MAAM,KAAK,SAAX,IAAwBA,MAAM,KAAK,SAD/C;AAEEwB,UAAAA,IAAI,EAAE;AAFR,SAFF,EAMEZ,QAAQ,CAACe,MANX,CAdK,EAsBLzF,OAAO,CAACM,OAAR,CAAgBuE,aAAhB,CACE,KADF,EAEE;AAAED,UAAAA,SAAS,EAAE;AAAb,SAFF,EAGEd,MAAM,KAAK,SAAX,IAAwB9D,OAAO,CAACM,OAAR,CAAgBuE,aAAhB,CACtB,GADsB,EAEtB;AAAEa,UAAAA,KAAK,EAAEf,MAAM,CAACgB;AAAhB,SAFsB,EAGtBjB,QAAQ,CAACkB,OAHa,CAH1B,EAQE9B,MAAM,KAAK,SAAX,IAAwB9D,OAAO,CAACM,OAAR,CAAgBuE,aAAhB,CACtB,GADsB,EAEtB;AAAEa,UAAAA,KAAK,EAAEf,MAAM,CAACkB;AAAhB,SAFsB,EAGtBnB,QAAQ,CAACoB,OAHa,CAR1B,EAaEhC,MAAM,KAAK,WAAX,IAA0B9D,OAAO,CAACM,OAAR,CAAgBuE,aAAhB,CACxB,GADwB,EAExB;AAAEa,UAAAA,KAAK,EAAEf,MAAM,CAACoB;AAAhB,SAFwB,EAGxBrB,QAAQ,CAACsB,SAHe,CAb5B,EAkBElC,MAAM,KAAK,OAAX,IAAsB9D,OAAO,CAACM,OAAR,CAAgBuE,aAAhB,CACpB,GADoB,EAEpB;AAAEa,UAAAA,KAAK,EAAEf,MAAM,CAACsB;AAAhB,SAFoB,EAGpBvB,QAAQ,CAACwB,KAHW,CAlBxB,EAuBEpC,MAAM,KAAK,OAAX,IAAsB9D,OAAO,CAACM,OAAR,CAAgBuE,aAAhB,CACpB,GADoB,EAEpB;AAAEa,UAAAA,KAAK,EAAEf,MAAM,CAACsB;AAAhB,SAFoB,EAGpBvB,QAAQ,CAACyB,KAHW,CAvBxB,CAtBK,CAAP;AAoDD;AAhEA,KArCqB,CAAZ,CAAZ;;AAwGA,WAAO9D,SAAP;AACD,GArHe,CAqHdrC,OAAO,CAACM,OAAR,CAAgB8F,SArHF,CAAhB;;AAuHA/D,EAAAA,SAAS,CAACgE,YAAV,GAAyB;AACvB3B,IAAAA,QAAQ,EAAE;AACRkB,MAAAA,OAAO,EAAE,YADD;AAERE,MAAAA,OAAO,EAAE,4BAFD;AAGRK,MAAAA,KAAK,EAAE,4CAHC;AAIRD,MAAAA,KAAK,EAAE,2BAJC;AAKRF,MAAAA,SAAS,EAAE,oDALH;AAMRP,MAAAA,MAAM,EAAE;AANA,KADa;AASvBd,IAAAA,MAAM,EAAE;AACNgB,MAAAA,UAAU,EAAE;AACVW,QAAAA,KAAK,EAAE;AADG,OADN;AAINT,MAAAA,UAAU,EAAE;AACVS,QAAAA,KAAK,EAAE;AADG,OAJN;AAONP,MAAAA,YAAY,EAAE;AACZO,QAAAA,KAAK,EAAE;AADK,OAPR;AAUNL,MAAAA,QAAQ,EAAE;AACRK,QAAAA,KAAK,EAAE;AADC;AAVJ;AATe,GAAzB;AAyBAjE,EAAAA,SAAS,CAAC7C,SAAV,GAAsB;AACpBwD,IAAAA,MAAM,EAAE7C,WAAW,CAACG,OAAZ,CAAoBiG,MADR;AAEpB7B,IAAAA,QAAQ,EAAEvE,WAAW,CAACG,OAAZ,CAAoBkG,MAFV;AAGpBzD,IAAAA,MAAM,EAAE5C,WAAW,CAACG,OAAZ,CAAoBmG,KAHR;AAIpB9B,IAAAA,MAAM,EAAExE,WAAW,CAACG,OAAZ,CAAoBkG,MAJR;AAKpB5B,IAAAA,SAAS,EAAEzE,WAAW,CAACG,OAAZ,CAAoBiG;AALX,GAAtB;AAQApH,EAAAA,OAAO,CAACmB,OAAR,GAAkB+B,SAAlB;AACD,CAvPD","sourcesContent":["(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\", \"react\", \"jsonp\", \"prop-types\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require(\"react\"), require(\"jsonp\"), require(\"prop-types\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.react, global.jsonp, global.propTypes);\n    global.index = mod.exports;\n  }\n})(this, function (exports, _react, _jsonp, _propTypes) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _jsonp2 = _interopRequireDefault(_jsonp);\n\n  var _propTypes2 = _interopRequireDefault(_propTypes);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var Mailchimp = function (_React$Component) {\n    _inherits(Mailchimp, _React$Component);\n\n    function Mailchimp(props) {\n      _classCallCheck(this, Mailchimp);\n\n      var _this = _possibleConstructorReturn(this, (Mailchimp.__proto__ || Object.getPrototypeOf(Mailchimp)).call(this, props));\n\n      _this.state = {};\n      return _this;\n    }\n\n    _createClass(Mailchimp, [{\n      key: \"handleSubmit\",\n      value: function handleSubmit(evt) {\n        var _this2 = this;\n\n        evt.preventDefault();\n        var _props = this.props,\n            fields = _props.fields,\n            action = _props.action;\n\n        var values = fields.map(function (field) {\n          return field.name + \"=\" + encodeURIComponent(_this2.state[field.name]);\n        }).join(\"&\");\n        var path = action + \"&\" + values;\n        var url = path.replace('/post?', '/post-json?');\n        var regex = /^([\\w_\\.\\-\\+])+\\@([\\w\\-]+\\.)+([\\w]{2,10})+$/;\n        var email = this.state['EMAIL'];\n        !regex.test(email) ? this.setState({ status: \"empty\" }) : this.sendData(url);\n      }\n    }, {\n      key: \"sendData\",\n      value: function sendData(url) {\n        var _this3 = this;\n\n        this.setState({ status: \"sending\" });\n        (0, _jsonp2.default)(url, { param: \"c\" }, function (err, data) {\n          if (data.msg.includes(\"already subscribed\")) {\n            _this3.setState({ status: 'duplicate' });\n          } else if (err) {\n            _this3.setState({ status: 'error' });\n          } else if (data.result !== 'success') {\n            _this3.setState({ status: 'error' });\n          } else {\n            _this3.setState({ status: 'success' });\n          };\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this4 = this;\n\n        var _props2 = this.props,\n            messages = _props2.messages,\n            fields = _props2.fields,\n            styles = _props2.styles,\n            className = _props2.className;\n        var status = this.state.status;\n\n        return _react2.default.createElement(\n          \"form\",\n          { onSubmit: this.handleSubmit.bind(this), className: className },\n          fields.map(function (input) {\n            return _react2.default.createElement(\"input\", { key: Math.random(),\n              onBlur: function onBlur(_ref) {\n                var target = _ref.target;\n                return _this4.setState(_defineProperty({}, input.name, target.value));\n              },\n              placeholder: input.placeholder,\n              name: input.name,\n              type: input.type,\n              defaultValue: _this4.state[input.name] });\n          }),\n          _react2.default.createElement(\n            \"button\",\n            {\n              disabled: status === \"sending\" || status === \"success\",\n              type: \"submit\"\n            },\n            messages.button\n          ),\n          _react2.default.createElement(\n            \"div\",\n            { className: \"msg-alert\" },\n            status === \"sending\" && _react2.default.createElement(\n              \"p\",\n              { style: styles.sendingMsg },\n              messages.sending\n            ),\n            status === \"success\" && _react2.default.createElement(\n              \"p\",\n              { style: styles.successMsg },\n              messages.success\n            ),\n            status === \"duplicate\" && _react2.default.createElement(\n              \"p\",\n              { style: styles.duplicateMsg },\n              messages.duplicate\n            ),\n            status === \"empty\" && _react2.default.createElement(\n              \"p\",\n              { style: styles.errorMsg },\n              messages.empty\n            ),\n            status === \"error\" && _react2.default.createElement(\n              \"p\",\n              { style: styles.errorMsg },\n              messages.error\n            )\n          )\n        );\n      }\n    }]);\n\n    return Mailchimp;\n  }(_react2.default.Component);\n\n  Mailchimp.defaultProps = {\n    messages: {\n      sending: \"Sending...\",\n      success: \"Thank you for subscribing!\",\n      error: \"An unexpected internal error has occurred.\",\n      empty: \"You must write an e-mail.\",\n      duplicate: \"Too many subscribe attempts for this email address\",\n      button: 'Subscribe!'\n    },\n    styles: {\n      sendingMsg: {\n        color: '#0652DD'\n      },\n      successMsg: {\n        color: '#009432'\n      },\n      duplicateMsg: {\n        color: '#EE5A24'\n      },\n      errorMsg: {\n        color: '#ED4C67'\n      }\n    }\n  };\n\n  Mailchimp.propTypes = {\n    action: _propTypes2.default.string,\n    messages: _propTypes2.default.object,\n    fields: _propTypes2.default.array,\n    styles: _propTypes2.default.object,\n    className: _propTypes2.default.string\n  };\n\n  exports.default = Mailchimp;\n});"]},"metadata":{},"sourceType":"script"}